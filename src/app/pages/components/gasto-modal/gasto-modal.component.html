<mat-card class="cardWithShadow mat-elevation-z8">
  <mat-card-header class="header-separador">
    <mat-card-title>Guardar gastos</mat-card-title>
  </mat-card-header>
  <mat-divider></mat-divider>
  <mat-card-content class="content-separador">
    <form [formGroup]="gastoForm" class="form-container">
      <!-- Concepto -->
      <div fxLayout="row" fxLayoutGap="16px" fxLayout.xs="column">
        <mat-form-field appearance="outline" fxFlex>
          <mat-label>Concepto</mat-label>
          <input
            matInput
            formControlName="concepto"
            placeholder="Ej: Compra de insumos"
          />
          <mat-error *ngIf="gastoForm.get('concepto')?.hasError('required')">
            El concepto es obligatorio.
          </mat-error>
          <mat-error *ngIf="gastoForm.get('concepto')?.hasError('maxlength')">
            Máximo 250 caracteres.
          </mat-error>
        </mat-form-field>
      </div>

      <!-- Fecha -->
      <div fxLayout="row" fxLayoutGap="16px" fxLayout.xs="column">
        <mat-form-field appearance="outline" fxFlex>
          <mat-label>Fecha</mat-label>
          <input matInput [matDatepicker]="picker" formControlName="fecha" />
          <mat-datepicker-toggle
            matSuffix
            [for]="picker"
          ></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
          <mat-error *ngIf="gastoForm.get('fecha')?.hasError('required')">
            La fecha es obligatoria.
          </mat-error>
        </mat-form-field>
      </div>

      <!-- Descripción -->
      <div fxLayout="row" fxLayoutGap="16px" fxLayout.xs="column">
        <mat-form-field appearance="outline" fxFlex>
          <mat-label>Descripción</mat-label>
          <textarea
            matInput
            formControlName="descripcion"
            placeholder="Ej: Detalles del gasto"
          ></textarea>
          <mat-error *ngIf="gastoForm.get('descripcion')?.hasError('required')">
            La descripción es obligatoria.
          </mat-error>
          <mat-error
            *ngIf="gastoForm.get('descripcion')?.hasError('maxlength')"
          >
            Máximo 250 caracteres.
          </mat-error>
        </mat-form-field>
      </div>

      <!-- Monto -->
      <div fxLayout="row" fxLayoutGap="16px" fxLayout.xs="column">
        <mat-form-field appearance="outline" fxFlex>
          <mat-label>Monto</mat-label>
          <input matInput type="number" formControlName="monto" />
          <mat-error *ngIf="gastoForm.get('monto')?.hasError('required')">
            El monto es obligatorio.
          </mat-error>
          <mat-error *ngIf="gastoForm.get('monto')?.hasError('min')">
            El monto debe ser mayor a 0.
          </mat-error>
        </mat-form-field>
      </div>

      <!-- Factura -->
      <!-- <div fxLayout="row" fxLayoutGap="16px" fxLayout.xs="column">
        <mat-checkbox formControlName="factura">¿Tiene factura?</mat-checkbox>
      </div> -->

      <!-- Ruta PDF Factura -->
      <!-- <div fxLayout="row" fxLayoutGap="16px" fxLayout.xs="column">
        <mat-form-field appearance="outline" fxFlex>
          <mat-label>Ruta PDF Factura</mat-label>
          <input
            matInput
            formControlName="rutaPDFFactura"
            placeholder="Ej: /archivos/factura.pdf"
          />
        </mat-form-field>
      </div> -->

      <!-- Ruta XML Factura -->
      <!-- <div fxLayout="row" fxLayoutGap="16px" fxLayout.xs="column">
        <mat-form-field appearance="outline" fxFlex>
          <mat-label>Ruta XML Factura</mat-label>
          <input
            matInput
            formControlName="rutaXMLFactura"
            placeholder="Ej: /archivos/factura.xml"
          />
        </mat-form-field>
      </div> -->

      <!-- Botones -->
      <div class="row buttons">
        <button
          mat-raised-button
          color="primary"
          type="submit"
          [disabled]="!gastoForm.valid"
          (click)="guardar()"
        >
          Guardar
        </button>
        <button mat-raised-button color="warn" type="button" (click)="cerrar()">
          Cancelar
        </button>
      </div>
    </form>
  </mat-card-content>
</mat-card>
